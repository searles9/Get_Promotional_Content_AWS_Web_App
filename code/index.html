<!DOCTYPE html>
<html>
<head>
  <title>Website</title>
  <style>
    input {
      display: block;
      margin: 20px;
    }
  </style>
</head>

<body>
  <form id="submit-email-form">
    <input type="text" name="email" placeholder="Email Address" class="form-email">
    <input type="submit" name="submit" value="Submit" class="form-submit">
  </form>

  <script type="text/javascript">
    document.getElementById('submit-email-form').addEventListener('submit', sendDataToLambda);

    function sendDataToLambda(e) {
      e.preventDefault();

      // Gets the values of each field in the form - this data is sent to Lambda
      var formEmail = document.querySelector('.form-email').value;

      //'REPLACE-WITH-THE-API-GATEWAY-ENDPOINT-URL'
      var endpoint = 'https://jrhl981ju9.execute-api.us-east-1.amazonaws.com/Prod/PromoFunction';

      // Takes the form value and makes it into an object
      var body = {
        email: formEmail
      }

      // Used by Fetch API
      var lambdaRequest = new Request(endpoint, {
        method: 'POST',
        mode: 'cors',
        body: JSON.stringify(body)
      });

      // Uses the Fetch API to make the request
      fetch(lambdaRequest)
        .then(response => console.log(response))
        .catch(err => console.log(err));
    }
  </script>
</body>

</html>
